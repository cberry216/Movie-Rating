{% extends "base.html" %}

{% block title %}Dashboard{% if movies_not_seen_by_user %} | *{% endif %}{% endblock title %}


{% block content %}

<div class="group-queue">
  <h3 class="group-queue__label">
    Group Queue
    {% if movies_not_seen_by_user %}
      <svg class="badge">
        <circle class="badge__circle" cx="10" cy="10" r="10"></circle>
        {% if movies_not_seen_by_user|length > 10 %}
          <text class="badge__text" x="1" y="14">{{ movies_not_seen_by_user|length }}</text>
        {% else %}
          <text class="badge__text" x="5" y="14">{{ movies_not_seen_by_user|length }}</text>
        {% endif %}
      </svg>
    {% endif %}
  </h3>
  {% if movies_not_seen_by_user %}
    <p class="group-queue__help-text">Please take the time to rate movies, that your friends have rated.</p>
  {% else %}
    <p class="group-queue__help-text">You are all caught up with movie ratings.</p>
  {% endif %}
  <div class="group-queue__movie-list movie-list">
    {% for movie in movies_not_seen_by_user %}
    <div class="movie-list__movie">
    <a class="movie-list__movie" style="background-image: url('{{ movie.poster_link }}')" href="{% url 'movie_detail' movie.imdb_id %}"></a>
    </div>
    {% empty %}
    
    {% endfor %}
  </div>
</div>

<h1>Movies Seen By User</h1>
{% for movie in movies_seen_by_user %}
<p>{{ movie.title }}</p>
{% empty %}
<p>No rated movies</p>
{% endfor %}

{% if has_group %}
<h1>Movies Seen By Your Group Members</h1>
{% for movie in movies_seen_by_others %}
<p>{{ movie.title }}</p>
{% empty %}
<p>You have not</p>
{% endfor %}
{% else %}
<h1>You are not part of a group</h1>
{% endif %}

<h1>Rated Movies</h1>
{% for movie in movies_seen_by_both %}
<p>{{ movie.title }}</p>
{% empty %}
<p>You have not rated any movies</p>
{% endfor %}

<h1>Unrated Movies</h1>
{% for movie in movies_not_seen_by_user %}
<p>{{ movie.title }}</p>
{% empty %}
<p>You have no unrated movies</p>
{% endfor %}
{% endblock content %}